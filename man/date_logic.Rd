% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/date_logic.R
\name{date_logic}
\alias{date_logic}
\title{Date Logic Module for Employment Period Calculations}
\description{
This module handles proper date calculations for employment periods,
including the critical FINE+1 logic and temporal segment boundaries.
}
\details{
## Employment Date Logic

The core principle is that employment contracts define inclusive date ranges:
- **Contract Period**: INIZIO to FINE (both days inclusive)
- **Unemployment Period**: (FINE + 1) to (next INIZIO - 1)

### Why FINE + 1?

When a contract ends on date FINE:
- The person works during FINE (last day of contract)
- Unemployment starts the next day: FINE + 1
- Next contract might start immediately on FINE + 1 (no gap) or later

### Event-Based Transformation

Each contract generates two events:
1. **Start Event**: date = INIZIO, value = +1 (employment begins)
2. **End Event**: date = FINE + 1, value = -1 (employment ends, unemployment begins)

The cumulative sum of event values gives the overlap count (arco):
- arco = 0: Unemployment (no active contracts)
- arco = 1: Single employment (one active contract)  
- arco > 1: Multiple employment (overlapping contracts)

### Duration Calculation

Duration depends on employment status:
- **Employment segments** (arco >= 1): durata = fine - inizio
- **Unemployment segments** (arco = 0): durata = fine - inizio - 1

The -1 for unemployment accounts for the fact that unemployment
periods use exclusive end dates in the event structure.
}
